DROP TABLE TURMA CASCADE CONSTRAINTS;
DROP TABLE ALUNO CASCADE CONSTRAINTS;
DROP TABLE MATERIA CASCADE CONSTRAINTS;
DROP TABLE PROFESSOR CASCADE CONSTRAINTS;
DROP TABLE AVALIAÇÃO CASCADE CONSTRAINTS;
DROP TABLE TURMA;
DROP TABLE ALUNO;
DROP TABLE MATERIA;
DROP TABLE PROFESSOR;
DROP TABLE AVALIAÇÃO;
-- CRIANDO UMA TABELA

-- Criar tabela TURMA
CREATE TABLE TURMA
(
IDTURMA NUMBER (10)CONSTRAINT TURMA_IDTURMA_PK PRIMARY KEY,
NOMETURMA VARCHAR2 (20) CONSTRAINT TURMA_NOMETURMA_NN NOT NULL CONSTRAINT TURMA_NOMETURMA_UU UNIQUE,
ANOFUN DATE
);

INSERT INTO turma (IDTURMA, NOMETURMA,ANOFUN) VALUES
  (001, 'TURMA A01', '12/05/2025');
INSERT INTO turma (IDTURMA, NOMETURMA,ANOFUN) VALUES
  (002, 'TURMA B02', '12/05/2025');
INSERT INTO turma (IDTURMA, NOMETURMA,ANOFUN) VALUES
  (003, 'TURMA C03', '12/05/2025');
INSERT INTO turma (IDTURMA, NOMETURMA,ANOFUN) VALUES
  (004, 'TURMA D04', '12/05/2025');



-- Criar tabela ALUNO
CREATE TABLE ALUNO
(
IDALUNO NUMBER (10) CONSTRAINT ALUNO_IDALUNO_PK PRIMARY KEY,
IDTURMA NUMBER (10),
NOME VARCHAR2 (30)  CONSTRAINT ALUNO_NOME_NN NOT NULL,
EMAIL VARCHAR2 (80) CONSTRAINT ALUNO_EMAIL_UU  UNIQUE CONSTRAINT ALUNO_EMAIL_NN NOT NULL,
TELF NUMBER (11),
SEMESTRE NUMBER(2)  CONSTRAINT TURMA_SEMESTRE_NN NOT NULL,
SENHA VARCHAR2(25),
CONSTRAINT ALUNO_IDTURMA_FK FOREIGN KEY (IDTURMA) REFERENCES TURMA(IDTURMA)
);

INSERT INTO aluno (IDALUNO, IDTURMA, NOME, EMAIL, TELF, SEMESTRE, SENHA) VALUES
  (95548,001, 'JOAQUIM DA SILVA','JOAQUIM22@GMAIL.COM',11975467285,01,'Teclado256C');
INSERT INTO aluno (IDALUNO, IDTURMA, NOME, EMAIL, TELF, SEMESTRE, SENHA) VALUES
  (45488,002, 'GUILHERME FERREIRA DE SOUZA' , 'GUISOUZA24@GMAIL.COM',11982456969,01,'Quadro2044?');
INSERT INTO aluno (IDALUNO, IDTURMA, NOME, EMAIL, TELF, SEMESTRE, SENHA) VALUES
  (94521,003, 'ANTONIO CRUZ' , 'CRUZANTONIO777@GMAIL.COM',11956768478,01,'Ventiladorgelado321.');
INSERT INTO aluno (IDALUNO, IDTURMA, NOME, EMAIL, TELF, SEMESTRE, SENHA) VALUES
  (99785,004, 'ANDRE OLIVEIRA','ANDRE@GMAIL.COM',11965784211,01,'Andre@38');



-- Criar tabela MATERIA
CREATE TABLE MATERIA
(
IDMATERIA NUMBER(10)       CONSTRAINT MATERIA_IDMATERIA_PK PRIMARY KEY,
NOMEMATERIA VARCHAR2(50)  CONSTRAINT MATERIA_NOMEMATERIA_NN NOT NULL CONSTRAINT MATERIA_NOMEMATERIA_UU UNIQUE,
CARGAH NUMBER (8)          CONSTRAINT MATERIA_CARGAH_NN NOT NULL,  
CONSTRAINT MATERIA_CARGAH_CK CHECK (CARGAH >0)
);

INSERT INTO materia (IDMATERIA, NOMEMATERIA, CARGAH) VALUES
  (002, 'LOGICA DE PROGRAMAÇÃO',1000);
INSERT INTO materia (IDMATERIA, NOMEMATERIA, CARGAH) VALUES
  (003, 'TIPOS DE DADOS',1000);
INSERT INTO materia (IDMATERIA, NOMEMATERIA, CARGAH) VALUES
  (004, 'LINGUAGEM C',1000);
INSERT INTO materia (IDMATERIA, NOMEMATERIA, CARGAH) VALUES
  (005, 'EXERCICIOS PRÁTICOS EM C',1000);


-- Criar tabela PROFESSOR 
CREATE TABLE PROFESSOR
(
IDPROF NUMBER(10)      CONSTRAINT PROFESSOR_IDPROF_PK PRIMARY KEY,
NOME   VARCHAR2 (30)   CONSTRAINT PROFESSOR_NOME_NN NOT NULL
);

INSERT INTO professor (IDPROF, NOME) VALUES
  (23052,'WILLAN DOS SANTOS CRUZ');
INSERT INTO professor (IDPROF, NOME) VALUES
  (92357,'PEDRO OLIVEIRA PINTO');
INSERT INTO professor (IDPROF, NOME) VALUES
  (86213,'DEBORA NASCIMENTO');
INSERT INTO professor (IDPROF, NOME) VALUES
  (60482,'CLAUDIO GOMES DOS SANTOS');


-- Criar tabela Avaliação
CREATE TABLE AVALIACAO
(
IDAVAL NUMBER(10)  CONSTRAINT AVALIACAO_IDAVAL_PK PRIMARY KEY,
IDPROF NUMBER(10),
DATA DATE,
IDALUNO NUMBER(10),
IDMATERIA NUMBER(10),
CONSTRAINT AVALIACAO_IDPROF_FK FOREIGN KEY (IDPROF) REFERENCES PROFESSOR(IDPROF),
CONSTRAINT AVALIACAO_IDALUNO_FK FOREIGN KEY (IDALUNO) REFERENCES ALUNO (IDALUNO),
CONSTRAINT AVALIACAO_IDMATERIA_FK FOREIGN KEY (IDMATERIA) REFERENCES MATERIA (IDMATERIA)
);

INSERT INTO avaliacao (IDAVAL, IDPROF, DATA, IDALUNO, IDMATERIA) VALUES
  (16524, 23052,'08/05/2025',95548,004);
INSERT INTO avaliacao (IDAVAL, IDPROF, DATA, IDALUNO, IDMATERIA) VALUES
  (24560, 92357,'12/09/2025', 45488, 004);
INSERT INTO avaliacao (IDAVAL, IDPROF, DATA, IDALUNO, IDMATERIA) VALUES
  (37166, 86213,'08/05/2025',94521,004);
INSERT INTO avaliacao (IDAVAL, IDPROF, DATA, IDALUNO, IDMATERIA) VALUES
  (24700, 60482,'30/10/2025',99785,004);



-- Criar tabela de relação materia prof turma.
CREATE TABLE TURMA_PROFESSOR_MATERIA (
IDTURMA  NUMBER(25),
IDPROF   NUMBER(25),
IDMATERIA  NUMBER(25),

PRIMARY KEY(IDTURMA, IDPROF, IDMATERIA),
FOREIGN KEY (IDMATERIA) REFERENCES MATERIA(IDMATERIA),
FOREIGN KEY (IDTURMA) REFERENCES TURMA(IDTURMA),
FOREIGN KEY (IDPROF) REFERENCES PROFESSOR(IDPROF)
);

INSERT INTO turma_professor_materia (IDTURMA, IDPROF, IDMATERIA) VALUES
  (001, 23052, 3);
INSERT INTO turma_professor_materia (IDTURMA, IDPROF, IDMATERIA) VALUES
  (003, 92357, 5);
INSERT INTO turma_professor_materia (IDTURMA, IDPROF, IDMATERIA) VALUES
  (002, 86213, 2);
INSERT INTO turma_professor_materia (IDTURMA, IDPROF, IDMATERIA) VALUES
  (004, 60482, 4);
